**âœ… CreateGo Designer Development Process â€“ Step-by-Step Guide** 

**Step 1\. Designing the Page Layout**

* **Designer Action**: Use the CreateGo Page Builder to lay out the UI components and visually design the structure of the page.  
* Examples: Place widgets like text, images, buttons, lists, etc.  
* Name the page clearly, as it will be referenced in variables and structure (e.g., LoginPage, ProductListPage).

**Step 2\. Binding Events to Widgets**

* **Designer Action**: Bind events to interactive widgets (e.g., buttons, fields) on the page.  
* At this step, the Agent auto-generates suggested events to interactive widgets, which the designer can **edit or confirm**.  
* Events include onClick, onChange, onPageLoad, etc.  
* Each event is given a name like onLoginClicked and internally registered as a \#event (e.g., \#onLoginClicked).

**Step 3\. Marking Dynamic Content and Styles**

* **Designer Action**: Mark any **content** or **style properties** that are expected to change dynamically as *dynamic*.

Examples:

* Dynamic content: Username, product lists, titles â†’ text: "\#userName"  
* Dynamic styles: Background color, visibility, border radius â†’ style.color: "\#primaryColor"  
* At this step, the Agent auto-generates suggested **\#symbol** names for each dynamic field, which the designer can **edit or confirm**.  
* These \#symbols are stored and referenced later when variables are created and mapped.

**Step 4\. Agent Defines appData / uiState Variables**

* **Agent Action**: The Agent inspects the UI JSON and defines variables:  
  * Content-type â†’ stored in appData.PageName.\*  
  * Style/state-type â†’ stored in uiState.PageName.\*  
* Variables are typed based on the field they came from (string, boolean, list, etc.)  
* The variables serve as the data/state model for the page.

**Step 5\. Setting Initial and Default Values**

* **Agent Action**: Uses current values in UI JSON to set:  
  * **Initial value** â†’ if the placeholder represents visible data at launch (e.g., "Welcome, Guest")  
  * **Default value** â†’ if a fallback is needed (e.g., an empty string for optional input)

**Step 6\. Mapping \#Symbols to Variables**

* **Agent Action**: Links each \#symbol from Step 3 to the variable created in Step 4\.

Examples:  
{  
  "\#userName": "\#\_appData.loginPage.userName",  
  "\#isLoading": "\#\_uiState.loginPage.isLoading"  
}

* This mapping is used by the Agent for logic generation and UI updates.  
* Designer can review and adjust symbol names during or after this step.

**Step 7\. Writing BDD Scenarios per Event**

* **Designer Action**: Select one event (e.g., \#onLoginClicked) and describe expected logic using **BDD (Given-When-Then)** format. 

Example:  
Given \#userName and \#password are provided,  
When \#onLoginClicked occurs,  
Then call \#restAPI:Login and update \#errorMessage or navigate to HomePage

* The Agent drafts candidate scenarios using existing \#symbols, variables, and UI structure.

**Step 8\. Confirming or Refining the BDD Scenario**

* **Designer Action**: Review the proposed scenario:  
  * Adjust logic, branches, or side-effects  
  * Ensure clarity and symbol alignment  
* Agent can regenerate or refine the scenario based on feedback.

**Step 9\. Generating the Action Flow**

* **Agent Action**: Converts the confirmed scenario into a formal **ActionFlow**.  
  * Each step in Given, When, Then becomes one or more structured actions.  
  * ActionFlow is represented in JSON and uses actionType, actionId, params, etc.

Example:  
{  
  "id": "loginProcessFlow",  
  "actionType": "flow",  
  "steps": \[  
    {  
      "actionType": "basic",  
      "actionId": "setProperty",  
      "params": {  
        "target": "\#errorMessage",  
        "value": "Invalid login"  
      }  
    }  
  \]  
}

* If any actions are **undecided**, the Agent marks them with "actionType": "none" and flags them for further discussion.

**Step 10\. Finalizing the ActionFlow**

* **Designer & Agent Collaboration**:  
  * Discuss and define any placeholder or missing actions.  
  * Update logic (e.g., API selection, data formatting).  
  * Ensure the ActionFlow matches the scenario's structure.

Once completed:

* All dynamic behavior is now structured and mapped  
* The ActionFlow is ready to be executed or converted to app logic

**ðŸ§© Process Summary (Checklist)**  
1\. Design layout in CreateGo page builder  
2\. Bind events to interactive elements  
3\. Mark dynamic values â†’ auto-generate \#symbols â†’ designer refines names  
4\. Agent defines appData & uiState variables  
5\. Initial/default values are assigned from UI JSON  
6\. \#symbols are mapped to variables and confirmed  
7\. BDD scenarios are generated for each \#event  
8\. Designer confirms/refines scenario  
9\. Agent generates ActionFlow  
10\. Designer & Agent collaborate to complete and confirm the flow

### **Backend Structure for Components with Variables, Symbols, Actionflows, Events.** 

**Symbols:**  
**create table public.symbols (**  
  **id bigint generated by default as identity not null,**  
  **type text not null,**  
  **name text not null,**  
  **tracking\_no text not null,**  
  **data jsonb not null,**  
  **project\_id bigint not null,**  
  **created\_at timestamp with time zone null default now(),**  
  **constraint symbols\_pkey primary key (id),**  
  **constraint symbols\_unique unique (type, name, tracking\_no, project\_id),**  
  **constraint symbols\_project\_id\_fkey foreign KEY (project\_id) references projects (id)**  
**) TABLESPACE pg\_default;**

**Symbol Relationship:**  
**create table public.symbol\_relationships (**  
  **id bigint generated by default as identity not null,**  
  **from\_symbol\_id bigint not null,**  
  **to\_symbol\_id bigint not null,**  
  **relation\_type text not null,**  
  **data jsonb null,**  
  **constraint symbol\_relationships\_pkey primary key (id),**  
  **constraint symbol\_relationships\_unique unique (from\_symbol\_id, to\_symbol\_id, relation\_type),**  
  **constraint symbol\_relationships\_from\_symbol\_id\_fkey foreign KEY (from\_symbol\_id) references symbols (id) on delete CASCADE,**  
  **constraint symbol\_relationships\_to\_symbol\_id\_fkey foreign KEY (to\_symbol\_id) references symbols (id) on delete CASCADE**  
**) TABLESPACE pg\_default;**

**Variables:**  
**create table public.variables (**  
  **id bigint generated by default as identity not null,**  
  **created\_at timestamp with time zone not null default now(),**  
  **key text not null,**  
  **type smallint not null default '1'::smallint,**  
  **value text\[\] null,**  
  **project\_id integer not null,**  
  **is\_list boolean not null default false,**  
  **scope text null default 'appData'::text,**  
  **symbol\_id bigint null,**  
  **constraint variables\_pkey primary key (id),**  
  **constraint public\_variables\_project\_id\_fkey foreign KEY (project\_id) references projects (id) on update CASCADE on delete CASCADE,**  
  **constraint variables\_symbol\_id\_fkey foreign KEY (symbol\_id) references symbols (id) on delete set null**  
**) TABLESPACE pg\_default;**

**NOTE: value is null by default, we will later use it if needed. For now we donâ€™t need to use yet.**

**ActionFlow:**  
**create table public.action\_flows (**  
  **id bigint generated by default as identity not null,**  
  **name character varying null,**  
  **is\_flow boolean null default true,**  
  **body jsonb null,**  
  **project\_id integer null,**  
  **description text null,**  
  **tags text\[\] null,**  
  **symbol\_id bigint null,**  
  **constraint action\_flows\_pkey primary key (id),**  
  **constraint action\_flows\_project\_id\_fkey foreign KEY (project\_id) references projects (id),**  
  **constraint action\_flows\_symbol\_id\_fkey foreign KEY (symbol\_id) references symbols (id) on delete set null**  
**) TABLESPACE pg\_default;**

**create index IF not exists idx\_action\_flows\_project\_id on public.action\_flows using btree (project\_id) TABLESPACE pg\_default;**

**Events:**  
**create table public.events (**  
  **id bigint generated by default as identity not null,**  
  **component\_id uuid not null,**  
  **event\_type text not null,**  
  **event\_action\_id text not null,**  
  **action\_flow\_id bigint not null,**  
  **symbol\_id bigint null,**  
  **payload jsonb null,**  
  **metadata jsonb null,**  
  **created\_at timestamp with time zone null default now(),**  
  **updated\_at timestamp with time zone null,**  
  **project\_id integer not null,**  
  **constraint events\_pkey primary key (id),**  
  **constraint events\_action\_flow\_id\_fkey foreign KEY (action\_flow\_id) references action\_flows (id) on delete CASCADE,**  
  **constraint events\_component\_id\_fkey foreign KEY (component\_id) references components (id) on delete CASCADE,**  
  **constraint events\_project\_id\_fkey foreign KEY (project\_id) references projects (id),**  
  **constraint events\_symbol\_id\_fkey foreign KEY (symbol\_id) references symbols (id) on delete set null**  
**) TABLESPACE pg\_default;**

**create index IF not exists idx\_events\_component\_id on public.events using btree (component\_id) TABLESPACE pg\_default;**

**create index IF not exists idx\_events\_project\_id on public.events using btree (project\_id) TABLESPACE pg\_default;**

**create index IF not exists idx\_events\_symbol\_id on public.events using btree (symbol\_id) TABLESPACE pg\_default;**

**NOTE: previous events were nested with the components, but it is changed now (will migrate soon), now to fetch the components we call a function: get\_components\_with\_events, This fetch all components with/without events**

### **Symbols Table**

create table public.symbols (  
  id bigint generated by default as identity not null,  
  type text not null,  
  name text not null,  
  tracking\_no text not null,  
  data jsonb not null,  
  project\_id bigint not null,  
  created\_at timestamp with time zone null default now(),  
 );

* **id:** Unique identifier for each symbol record.  
* **type:** Defines the category (e.g., \#event, \#variable, \#actionFlow).  
* **name:** Human-readable name for the symbol. Should be uniques per project base  
* **tracking\_no:** Identifier used for versioning or tracking references.  
* **data:** JSON field holding additional metadata and configuration.  
* **project\_id:** Associates the symbol with a specific project.  
* **created\_at:** Timestamp marking when the symbol was created.

### **Symbol Relationships Table**

create table public.symbol\_relationships (  
  id bigint generated by default as identity not null,  
  from\_symbol\_id bigint not null,  
  to\_symbol\_id bigint not null,  
  relation\_type text not null,  
  data jsonb null,  
);

* **id:** Unique identifier for each relationship.  
* **from\_symbol\_id:** ID of the originating symbol.  
* **to\_symbol\_id:** ID of the target symbol.  
* **relation\_type:** Describes the nature of the relationship (e.g., "calls", "uses").  
* **data:** Optional JSON field for additional relationship metadata.

### 

### **Variables Table**

create table public.variables (  
  id bigint generated by default as identity not null,  
  created\_at timestamp with time zone not null default now(),  
  key text not null,  
  type smallint not null default '1'::smallint,  
  value text\[\] null,  
  project\_id integer not null,  
  is\_list boolean not null default false,  
  scope text null default 'appData'::text,  
  symbol\_id bigint null,  
);

* **id:** Unique identifier for the variable.  
* **created\_at:** Timestamp when the variable was created.  
* **key:** Name/key of the variable.w  
* **type:** Numeric code representing the variableâ€™s data type.  
* **value:** Array of text values; reserved for future use.  
* **project\_id:** Identifies the project this variable belongs to.  
* **is\_list:** Boolean indicating if the variable holds a list.  
* **scope:** Defines where the variable is used (e.g., appData or uiState).  
* **symbol\_id:** Optional reference linking this variable to a symbol.

### **ActionFlow Table**

create table public.action\_flows (  
  id bigint generated by default as identity not null,  
  name character varying null,  
  is\_flow boolean null default true,  
  body jsonb null,  
  project\_id integer null,  
  description text null,  
  tags text\[\] null,  
  symbol\_id bigint null,  
);

* **id:** Unique identifier for the action flow.  
* **name:** Name of the flow, used for identification.  
* **is\_flow:** Flag indicating if the record is a valid action flow.  
* **body:** JSON structure defining the steps and configuration of the flow.  
* **project\_id:** Associates the flow with a specific project.  
* **description:** Brief text explaining the flowâ€™s purpose.  
* **tags:** Array of tags for categorizing or filtering the flow.  
* **symbol\_id:** Optional link to a symbol representing this flow.

### **Events Table**

create table public.events (  
  id bigint generated by default as identity not null,  
  component\_id uuid not null,  
  event\_type text not null,  
  event\_action\_id text not null,  
  action\_flow\_id bigint not null,  
  symbol\_id bigint null,  
  payload jsonb null,  
  metadata jsonb null,  
  created\_at timestamp with time zone null default now(),  
  updated\_at timestamp with time zone null,  
  project\_id integer not null,  
);

* **id:** Unique identifier for each event.  
* **component\_id:** References the UI component (UUID) where the event is attached.  
* **event\_type:** Type of event (e.g., onClick, onChange, onLongPress).  
* **event\_action\_id:** Identifier for the specific event action (e.g., a label like "openUrl").  
* **action\_flow\_id:** Associates the event with an action flow to execute.  
* **symbol\_id:** Optional reference linking the event to a symbol.  
* **payload:** JSON field for event-specific data.  
* **metadata:** JSON field for any additional event details.  
* **created\_at:** Timestamp for when the event was created.  
* **updated\_at:** Timestamp for the latest update.  
* **project\_id:** Identifies the project this event belongs to.

